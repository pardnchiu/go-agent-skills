[
  {
    "type": "function",
    "function": {
      "name": "read_file",
      "description": "讀取指定路徑的檔案內容。用於檢查原始碼、設定檔或專案中的任何文字檔案。",
      "parameters": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "要讀取的檔案路徑（相對於專案根目錄或絕對路徑）"
          }
        },
        "required": ["path"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "list_files",
      "description": "列出指定路徑的檔案和目錄。用於探索專案結構。",
      "parameters": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "要列出的目錄路徑（相對於專案根目錄或絕對路徑）。使用 '.' 表示目前目錄。"
          },
          "recursive": {
            "type": "boolean",
            "description": "如果為 true，則遞迴列出檔案。預設為 false。"
          }
        },
        "required": ["path"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "glob_files",
      "description": "尋找符合 glob 模式的檔案。用於尋找特定檔案類型（例如 '**/*.go' 表示所有 Go 檔案）。",
      "parameters": {
        "type": "object",
        "properties": {
          "pattern": {
            "type": "string",
            "description": "用於比對檔案的 Glob 模式（例如 '**/*.go'、'src/**/*.ts'、'*.md'）"
          }
        },
        "required": ["pattern"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "write_file",
      "description": "將內容寫入檔案。如果檔案不存在則建立，如果存在則覆寫。",
      "parameters": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "要寫入的檔案路徑（相對於專案根目錄或絕對路徑）"
          },
          "content": {
            "type": "string",
            "description": "要寫入檔案的內容"
          }
        },
        "required": ["path", "content"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "search_content",
      "description": "在檔案內容中搜尋模式。返回符合的行及其檔案路徑和行號。",
      "parameters": {
        "type": "object",
        "properties": {
          "pattern": {
            "type": "string",
            "description": "要搜尋的文字或正規表示式模式"
          },
          "file_pattern": {
            "type": "string",
            "description": "可選的 glob 模式以篩選檔案（例如 '*.go'）"
          }
        },
        "required": ["pattern"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "patch_edit",
      "description": "透過精確字串匹配來編輯檔案。僅替換第一個匹配項。適合對檔案進行小幅修改，比 write_file 更安全。",
      "parameters": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "要編輯的檔案路徑（相對於專案根目錄或絕對路徑）"
          },
          "old_string": {
            "type": "string",
            "description": "要被替換的原始內容（必須精確匹配）"
          },
          "new_string": {
            "type": "string",
            "description": "替換為的新內容"
          }
        },
        "required": ["path", "old_string", "new_string"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "run_command",
      "description": "執行 shell 指令並返回其輸出。用於執行建置工具、git 指令等。",
      "parameters": {
        "type": "object",
        "properties": {
          "command": {
            "type": "string",
            "description": "要執行的 shell 指令"
          }
        },
        "required": ["command"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "fetch_yahoo_finance",
      "description": "透過 Yahoo Finance 取得股票即時報價與 K 線資料。",
      "parameters": {
        "type": "object",
        "properties": {
          "symbol": {
            "type": "string",
            "description": "股票代碼，例如 NVDA、AAPL、TSLA"
          },
          "interval": {
            "type": "string",
            "description": "K 線間距",
            "enum": ["1m", "2m", "5m", "15m", "30m", "60m", "1h", "1d", "1wk"],
            "default": "1m"
          },
          "range": {
            "type": "string",
            "description": "資料範圍",
            "enum": ["1d", "5d", "1mo", "3mo", "6mo", "1y", "2y", "5y", "ytd", "max"],
            "default": "1d"
          }
        },
        "required": ["symbol"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "fetch_google_rss",
      "description": "透過 Google News RSS 搜尋新聞，返回標題與真實文章連結。",
      "parameters": {
        "type": "object",
        "properties": {
          "keyword": {
            "type": "string",
            "description": "搜尋關鍵字（支援 Google 搜尋語法，如 'nvidia OR AMD'）"
          },
          "time": {
            "type": "string",
            "description": "時間範圍，可選值：1h / 3h / 6h / 12h / 24h / 7d",
            "enum": ["1h", "3h", "6h", "12h", "24h", "7d"]
          },
          "lang": {
            "type": "string",
            "description": "語言與地區設定，格式 '{country}:{lang}'，預設 'TW:zh-Hant'",
            "default": "TW:zh-Hant"
          }
        },
        "required": ["keyword", "time"]
      }
    }
  },

  {
    "type": "function",
    "function": {
      "name": "send_http_request",
      "description": "發送 HTTP 請求並返回回應內容。支援 GET、POST（JSON/Form）等方法。適合呼叫 REST API、Webhook 或其他 HTTP 服務。",
      "parameters": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "完整的 URL（需包含 http:// 或 https://）"
          },
          "method": {
            "type": "string",
            "description": "HTTP 方法",
            "enum": ["GET", "POST", "PUT", "DELETE", "PATCH"],
            "default": "GET"
          },
          "headers": {
            "type": "object",
            "description": "請求標頭（key-value 格式），例如 {\"Authorization\": \"Bearer token\"}"
          },
          "body": {
            "type": "object",
            "description": "請求本體（JSON 格式），適用於 POST/PUT/PATCH"
          },
          "content_type": {
            "type": "string",
            "description": "Content-Type，可選值：json（預設）、form",
            "enum": ["json", "form"],
            "default": "json"
          },
          "timeout": {
            "type": "integer",
            "description": "請求超時秒數，預設 30 秒，最大 300 秒。一般 REST API 用 30；需要運算的 API（如 AI 生圖、語音合成、影片處理）建議設 120 以上",
            "default": 30
          }
        },
        "required": ["url"]
      }
    }
  }
]
